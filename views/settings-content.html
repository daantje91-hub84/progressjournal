<div class="view-header">
    <div class="view-header__title">
        <h1>Einstellungen</h1>
    </div>
</div>
<div class="settings-container">
    <section class="settings-section">
        <h2>Profil</h2>
        <div class="profile-card">
            <div class="profile-avatar"><span class="material-icons">account_circle</span></div>
            <div class="profile-info">
                <span class="profile-name" id="profile-name">Max Mustermann</span>
                <span class="profile-email" id="profile-email">max.mustermann@email.com</span>
            </div>
            <button class="button-icon">Bearbeiten</button>
        </div>
    </section>

    <section class="settings-section">
        <h2>Tagesziele</h2>
        <div class="setting-item">
            <label for="daily-tasks-goal">Aufgaben pro Tag</label>
            <input type="number" class="setting-input" id="daily-tasks-goal" min="1" data-setting="daily_task_goal">
        </div>
        <div class="setting-item">
            <label for="daily-pomodoros-goal">Pomodoros pro Tag</label>
            <input type="number" class="setting-input" id="daily-pomodoros-goal" min="1" data-setting="daily_pomodoro_goal">
        </div>
    </section>
    
    <!-- ANGEPASSTER ABSCHNITT: POMODORO TIMER -->
    <section class="settings-section">
        <h2>Pomodoro Timer</h2>
        <div class="setting-item">
            <label for="work-duration">Arbeitsintervall (Minuten)</label>
            <input type="number" class="setting-input" id="work-duration" data-setting="pomodoro_work_duration">
        </div>
        <div class="setting-item">
            <label for="short-break">Kurze Pause (Minuten)</label>
            <input type="number" class="setting-input" id="short-break" data-setting="pomodoro_short_break">
        </div>
    </section>

    <section class="settings-section">
        <h2>WÃ¶chentliche Ruhetage</h2>
        <p class="setting-description">Aufgaben werden an diesen Tagen nicht automatisch geplant.</p>
        <div class="day-picker-container" id="rest-day-picker">
            <div class="day-toggle" data-day="1">Mo</div>
            <div class="day-toggle" data-day="2">Di</div>
            <div class="day-toggle" data-day="3">Mi</div>
            <div class="day-toggle" data-day="4">Do</div>
            <div class="day-toggle" data-day="5">Fr</div>
            <div class="day-toggle" data-day="6">Sa</div>
            <div class="day-toggle" data-day="0">So</div>
        </div>
    </section>

    <section class="settings-section">
        <h2>Streaks & Abwesenheit</h2>
        <div class="setting-item">
            <span>Urlaubsmodus</span>
            <div class="toggle-switch">
                <input type="checkbox" id="vacation-mode-toggle" class="toggle-input" data-setting="vacation_mode_active">
                <label for="vacation-mode-toggle" class="toggle-label"></label>
            </div>
        </div>
        <div id="vacation-dates-container" class="hidden" style="margin-top: 16px; padding-top: 16px; border-top: 1px solid var(--border-color);">
             <div class="setting-item">
                <label for="vacation-start">Beginn</label>
                <input type="date" class="setting-input" id="vacation-start" data-setting="vacation_start_date">
            </div>
             <div class="setting-item">
                <label for="vacation-end">Ende</label>
                <input type="date" class="setting-input" id="vacation-end" data-setting="vacation_end_date">
            </div>
        </div>
    </section>

    <section class="settings-section">
        <h2>Konto</h2>
        <div class="setting-item">
            <a href="index.html" class="logout-link">Ausloggen</a>
        </div>
    </section>
</div>

<div id="toast-notification" class="toast hidden">Einstellung gespeichert!</div>

<style>
.setting-description { font-size: 14px; color: var(--muted); margin-top: -12px; margin-bottom: 16px; }
.day-picker-container { display: flex; justify-content: space-between; gap: 8px; }
.day-toggle { width: 40px; height: 40px; border-radius: 50%; border: 1px solid var(--border-color); display: flex; align-items: center; justify-content: center; font-weight: 600; cursor: pointer; transition: all 0.2s; }
.day-toggle.active { background-color: var(--main-blue); color: #fff; border-color: var(--main-blue); }
.toast { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background-color: #333; color: #fff; padding: 12px 24px; border-radius: var(--radius); font-weight: 600; z-index: 2000; opacity: 1; transition: opacity 0.3s, bottom 0.3s; }
.toast.hidden { opacity: 0; bottom: -50px; pointer-events: none; }
</style>
